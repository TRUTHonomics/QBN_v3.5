# Threshold Optimalisatie Rapport

**Asset ID:** 1
**Lookback:** 365 dagen
**Analyse Timestamp:** 2026-01-09T21:15:01.020472

---

## Executive Summary

### Optimale Thresholds per Horizon

#### 1h Horizon

| Methode | NEUTRAL_BAND | STRONG_THRESHOLD | Score |
|---------|--------------|------------------|-------|
| LOGREG | None | None | AUC=0.5738 |
| CART | 0.06 | 0.28 | CV_Accuracy=0.3974 |


## 1h Horizon - Gedetailleerde Analyse

---

### Decision Tree (CART) - 1h

**Afgeleide Parameters:**
- NEUTRAL_BAND: 0.06
- STRONG_THRESHOLD: 0.28
- CV Accuracy: 0.3974

**Model Statistieken:**
- Train accuracy: 0.4025
- Test accuracy: 0.4380
- CV mean: 0.3974 (+/- 0.0015)
- Tree depth: 4
- Number of leaves: 11

**Feature Importance (Gini):**

- leading_score: 0.8978
- confirming_score: 0.0697
- coincident_score: 0.0325

**Gevonden Split Points:**

- leading_score: [-0.278, -0.167, -0.056, 0.056, 0.167]
- coincident_score: [0.167]
- confirming_score: [0.167, 0.500, 0.833]

**Visualisaties:**

![Decision Tree](1h/decision_tree/tree_1h.png)

![Feature Importance](1h/decision_tree/feature_importance_1h.png)

### Logistic Regression - 1h

**Performance:**
- AUC: 0.5738

**Statistieken:**
- CV AUC mean: 0.5738 (+/- 0.0152)
- Test AUC: 0.5832
- Regularization C: 1.0

**Geoptimaliseerde Gewichten (denormalized):**

- leading_score: 2.6179
- coincident_score: 0.3163
- confirming_score: 0.0441

**Visualisaties:**

![ROC Curve](1h/logistic_regression/roc_curve_1h.png)

![Coefficients](1h/logistic_regression/coefficients_1h.png)

## Aanbevelingen

---

### 1h Horizon

**Aanbevolen configuratie:**
- COMPOSITE_NEUTRAL_BAND: 0.06
- COMPOSITE_STRONG_THRESHOLD: 0.28

âœ“ Methoden zijn consistent (spread: 0.00)

### Algemene Opmerkingen

1. **MI Grid Search** geeft de meest directe maat voor informatiewinst
2. **CART** is het meest interpreteerbaar en toont interactie-effecten
3. **LogReg** is het beste voor het optimaliseren van signaal-gewichten

**Volgende stappen:**
- Pas de aanbevolen thresholds toe met `--apply-results`
- Voer een walk-forward validatie uit om de impact te meten
- Monitor de state distribution na aanpassing

## Methodologie

---

### Data Selectie

- Alleen 60-minuut boundary data (geen 1-minuut sampling)
- Temporele train/test split (80/20) om lookahead bias te voorkomen
- Minimum 5000 samples vereist voor statistische significantie

### Mutual Information Grid Search

Grid search over alle combinaties van NEUTRAL_BAND en STRONG_THRESHOLD.
Meet de mutual information tussen gediscretiseerde composite states en outcome direction.

### Decision Tree (CART)

Laat het CART algoritme automatisch optimale split-points vinden.
Beperkt tot max_depth=4 en min_samples_leaf=100 om overfitting te voorkomen.

### Logistic Regression

L2-geregulariseerde logistische regressie voor binaire win/loss classificatie.
Coefficienten worden gedenormaliseerd voor directe interpretatie.

---

*Rapport gegenereerd door QBN v3 Threshold Optimizer*
